(function(){"use strict";var a,b=function(a,b){return function(){return a.apply(b,arguments)}};a=function(){function a(){this.onFinish=b(this.onFinish,this),this.changeState=b(this.changeState,this),this.cancel=b(this.cancel,this),this.select=b(this.select,this),this.start=b(this.start,this),this.initialize=b(this.initialize,this),this.resizeWindow(),$(window).resize(function(a){return function(){return a.resizeWindow()}}(this)),$("#start-button").click(this.start),$("#select-button").click(this.select),$("#cancel-button").click(this.cancel),$("#result-ok").click(this.initialize),this.dartsUi=document.querySelector("darts-ui"),this.gameGroup=document.querySelector("game-group"),this.gameGroup.addEventListener("finish",this.onFinish)}var c;return c={NOT_STARTED:0,PLAYING:1},a.prototype.state=c.NOT_STARTED,a.prototype.dartsUi=null,a.prototype.gameGroup=null,a.prototype.resizeWindow=function(){var a,b,c,d,e,f;return a=$("body").height(),c=$(".header").height()+11,b=$(".footer").height()+11,d=a-c-b-36,e=Math.min($("body").width(),d)-20,f=($(".container").width()-e)/2,$("darts-ui").attr("width",e).attr("height",e).css("margin-left",f)},a.prototype.initialize=function(){return this.dartsUi.setAttribute("focuses"," "),this.gameGroup.removeAttribute("state")},a.prototype.start=function(){var a,b,c,d,e,f,g,h;for(this.dartsUi.setAttribute("focuses"," "),d=this.gameGroup.getAttribute("games").split(","),c=$("#gameItems"),c.empty(),e=g=0,h=d.length;h>g;e=++g)b=d[e],a=0===e?'checked="checked"':"",f='<input type="radio" name="type" value="'+b+'" '+a+"> "+b+"<br>",c.append(f);return $("#myModal").modal("show")},a.prototype.select=function(){var a,b,d,e,f,g;for(d=$("#gameItems input"),b=null,e=f=0,g=d.length;g>f;e=++f)a=d[e],a.checked&&(b=a.value);return this.gameGroup.setAttribute("state",b+",2"),$("#myModal").modal("hide"),this.changeState(c.PLAYING)},a.prototype.cancel=function(){return this.changeState(c.NOT_STARTED)},a.prototype.changeState=function(a){var b;switch(b=this.state,this.state=a,a){case c.NOT_STARTED:return $("#start-button").show(),$("#cancel-button").hide();case c.PLAYING:return $("#start-button").hide(),$("#cancel-button").show()}},a.prototype.onFinish=function(a){var b,d;return b=a.detail.player,d=null===b?"引き分け":""+b.name+" の勝ち!",$("#winner").text(d),$("#resultModal").modal("show"),this.changeState(c.NOT_STARTED)},a}(),window.Game=a}).call(this),function(){"use strict";var a;a=new Game}.call(this);