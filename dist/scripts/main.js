(function(){"use strict";var a;a=function(){function a(){var a,b,c;c=this.SOUNDS;for(a in c)b=c[a],this.audios[a]=new Audio,this.audios[a].src=this.SOUND_DIR+b.file}return a.prototype.SOUND_DIR="sounds/",a.prototype.SOUNDS={1:{file:"35782_sword.wav",delay:.4},bull:{file:"35604_pistol.wav",delay:.2}},a.prototype.DURATION=160,a.prototype.audios={},a.prototype.play=function(a,b){var c;if(null!=this.audios[a]&&(this.doPlay(a),b>1))return b--,c=setInterval(function(d){return function(){return d.doPlay(a),b--,0===b?clearInterval(c):void 0}}(this),this.DURATION)},a.prototype.doPlay=function(a){var b;return b=this.audios[a].cloneNode(!1),this.audios[a].currentTime=this.SOUNDS[a].delay,this.audios[a].play(),this.audios[a]=b},a}(),window.Sound=a}).call(this),function(){"use strict";var a,b=function(a,b){return function(){return a.apply(b,arguments)}};a=function(){function a(){this.onFinish=b(this.onFinish,this),this.changeState=b(this.changeState,this),this.cancel=b(this.cancel,this),this.select=b(this.select,this),this.start=b(this.start,this),this.onHit=b(this.onHit,this),this.resizeWindow(),$(window).resize(function(a){return function(){return a.resizeWindow()}}(this)),$("#start-button").click(this.start),$("#select-button").click(this.select),$("#cancel-button").click(this.cancel),this.dartsUi=document.querySelector("darts-ui"),this.dartsUi.addEventListener("hit",this.onHit),this.gameGroup=document.querySelector("game-group"),this.gameGroup.addEventListener("finish",this.onFinish),this.sound=new Sound}var c;return c={NOT_STARTED:0,PLAYING:1},a.prototype.state=c.NOT_STARTED,a.prototype.dartsUi=null,a.prototype.gameGroup=null,a.prototype.sound=null,a.prototype.onHit=function(){var a,b,c;return c=event.detail,a=c.point,b=c.ratio,"25"===a?this.sound.play("bull",parseInt(b)):this.sound.play("1",parseInt(b))},a.prototype.resizeWindow=function(){var a,b,c,d,e,f;return a=$("body").height(),c=$(".header").height()+11,b=$(".footer").height()+11,d=a-c-b-36,e=Math.min($("body").width(),d)-20,f=($(".container").width()-e)/2,$("darts-ui").attr("width",e).attr("height",e).css("margin-left",f)},a.prototype.start=function(){var a,b,c,d,e,f,g,h;for(this.dartsUi.setAttribute("focuses"," "),this.gameGroup.removeAttribute("state"),d=this.gameGroup.getAttribute("games").split(","),c=$("#gameItems"),c.empty(),e=g=0,h=d.length;h>g;e=++g)b=d[e],a=0===e?'checked="checked"':"",f='<input type="radio" name="type" value="'+b+'" '+a+"> "+b+"<br>",c.append(f);return $("#myModal").modal("show")},a.prototype.select=function(){var a,b,d,e,f,g;for(d=$("#gameItems input"),b=null,e=f=0,g=d.length;g>f;e=++f)a=d[e],a.checked&&(b=a.value);return this.gameGroup.setAttribute("state",b+",2"),$("#myModal").modal("hide"),this.changeState(c.PLAYING)},a.prototype.cancel=function(){return this.gameGroup.removeAttribute("state"),this.changeState(c.NOT_STARTED)},a.prototype.changeState=function(a){var b;switch(b=this.state,this.state=a,a){case c.NOT_STARTED:return $("#start-button").show(),$("#cancel-button").hide();case c.PLAYING:return $("#start-button").hide(),$("#cancel-button").show()}},a.prototype.onFinish=function(a){var b;if(this.state===c.PLAYING)return b=null!=a.detail.message?a.detail.message:null!=a.detail.player?""+a.detail.player.name+" の勝ち!":"引き分け",$("#message").text(b),$("#resultModal").modal("show"),this.changeState(c.NOT_STARTED)},a}(),window.Game=a}.call(this),function(){"use strict";var a;a=new Game}.call(this);